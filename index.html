<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>包装需求及成本估算表</title>
    <style>
        body {
            font-family: 'Microsoft YaHei', sans-serif;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f9fc;
            color: #333;
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            border-bottom: 3px solid #3498db;
            padding-bottom: 15px;
            margin-bottom: 25px;
        }
        .form-section {
            background: white;
            padding: 25px;
            margin-bottom: 25px;
            border-radius: 8px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.08);
        }
        h2 {
            color: #3498db;
            margin-top: 0;
            font-size: 20px;
            border-left: 5px solid #3498db;
            padding-left: 15px;
        }
        label {
            display: block;
            margin: 18px 0 8px;
            font-weight: bold;
            color: #2c3e50;
        }
        .required:after {
            content: " *";
            color: #e74c3c;
        }
        input, select, textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            box-sizing: border-box;
            font-family: inherit;
            transition: border 0.3s;
        }
        input:focus, select:focus, textarea:focus {
            border-color: #3498db;
            outline: none;
        }
        .checkbox-group {
            margin: 12px 0;
        }
        .checkbox-item {
            display: inline-block;
            margin-right: 18px;
            margin-bottom: 10px;
        }
        .submit-btn {
            background: #3498db;
            color: white;
            border: none;
            padding: 14px 30px;
            font-size: 17px;
            border-radius: 6px;
            cursor: pointer;
            display: block;
            margin: 35px auto 0;
            transition: all 0.3s;
        }
        .submit-btn:hover {
            background: #2980b9;
            transform: translateY(-2px);
        }
        .flex-row {
            display: flex;
            gap: 15px;
        }
        .flex-row > div {
            flex: 1;
        }
        .cost-estimate {
            background: #f8fafc;
            border-left: 4px solid #3498db;
            padding: 15px;
            margin-top: 20px;
            border-radius: 0 5px 5px 0;
        }
        .cost-value {
            font-size: 24px;
            color: #e74c3c;
            font-weight: bold;
            margin: 10px 0;
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <h1>产品包装需求及成本估算表</h1>

    <form id="packagingForm">
        <!-- 基础信息 -->
        <div class="form-section">
            <h2>1. 基础信息</h2>
            
            <div class="flex-row">
                <div>
                    <label for="brand_name" class="required">品牌名称</label>
                    <input type="text" id="brand_name" name="brand_name" required placeholder="例：XX品牌">
                </div>
                <div>
                    <label for="product_name" class="required">产品名称</label>
                    <input type="text" id="product_name" name="product_name" required placeholder="例：智能手表">
                </div>
            </div>

            <div class="flex-row">
                <div>
                    <label for="product_model">产品型号</label>
                    <input type="text" id="product_model" name="product_model" placeholder="例：Pro Max 2024">
                </div>
                <div>
                    <label for="quantity" class="required">预计生产数量</label>
                    <input type="number" id="quantity" name="quantity" placeholder="例：5000" required min="100">
                </div>
            </div>
            
            <label for="product_size" class="required">产品尺寸 (长×宽×高 mm)</label>
            <div class="flex-row">
                <input type="number" id="length" name="length" placeholder="长" required min="1">
                <input type="number" id="width" name="width" placeholder="宽" required min="1">
                <input type="number" id="height" name="height" placeholder="高" required min="1">
            </div>
        </div>

        <!-- 外包装配置 -->
        <div class="form-section">
            <h2>2. 外包装配置</h2>
            
            <label class="required">包装盒类型</label>
            <div class="checkbox-group">
                <label class="checkbox-item">
                    <input type="radio" name="box_type" value="top_bottom" required checked> 天地盒
                </label>
                <label class="checkbox-item">
                    <input type="radio" name="box_type" value="airplane"> 飞机盒
                </label>
                <label class="checkbox-item">
                    <input type="radio" name="box_type" value="other"> 其他
                    <input type="text" name="box_type_other" class="hidden" style="width:150px; margin-left:10px;">
                </label>
            </div>
            
            <label class="required">盒体材质</label>
            <select name="material" required onchange="updateCostEstimate()">
                <option value="">-- 请选择 --</option>
                <option value="white_card">白卡纸（250-350g）</option>
                <option value="kraft">牛皮纸（双层）</option>
                <option value="art_paper">铜版纸（覆膜）</option>
                <option value="corrugated">瓦楞纸（B楞/E楞）</option>
                <option value="special">特种纸（需定制）</option>
            </select>
            
            <label>是否需要热缩膜？</label>
            <div class="checkbox-group">
                <label class="checkbox-item">
                    <input type="radio" name="shrink_film" value="yes" onchange="updateCostEstimate()"> 需要
                </label>
                <label class="checkbox-item">
                    <input type="radio" name="shrink_film" value="no" checked onchange="updateCostEstimate()"> 不需要
                </label>
            </div>
        </div>

        <!-- 内包装配置 -->
        <div class="form-section">
            <h2>3. 内包装配置</h2>
            
            <label>是否需要PE袋？</label>
            <div class="checkbox-group">
                <label class="checkbox-item">
                    <input type="radio" name="pe_bag" value="yes" onchange="updateCostEstimate()"> 需要
                    <span style="margin-left:10px;">厚度：
                        <select name="pe_thickness" style="width:90px; display:inline-block;" onchange="updateCostEstimate()">
                            <option value="0.03">0.03mm</option>
                            <option value="0.05" selected>0.05mm</option>
                            <option value="0.08">0.08mm</option>
                        </select>
                    </span>
                </label>
                <label class="checkbox-item">
                    <input type="radio" name="pe_bag" value="no" checked onchange="updateCostEstimate()"> 不需要
                </label>
            </div>
            
            <label>缓冲材料</label>
            <div class="checkbox-group">
                <label class="checkbox-item">
                    <input type="checkbox" name="buffer_pearl" onchange="updateCostEstimate()"> 珍珠棉
                    <select name="pearl_density" style="width:90px; margin-left:5px;" onchange="updateCostEstimate()">
                        <option value="25kg">25kg/m³</option>
                        <option value="30kg" selected>30kg/m³</option>
                        <option value="35kg">35kg/m³</option>
                    </select>
                </label>
                <label class="checkbox-item">
                    <input type="checkbox" name="buffer_epe" onchange="updateCostEstimate()"> EPE泡沫
                </label>
                <label class="checkbox-item">
                    <input type="checkbox" name="buffer_paper" onchange="updateCostEstimate()"> 纸托
                </label>
            </div>
            
            <label>是否需要产品收纳袋？</label>
            <div class="checkbox-group">
                <label class="checkbox-item">
                    <input type="radio" name="storage_bag" value="yes" onchange="updateCostEstimate()"> 需要（
                    <select name="bag_material" style="width:110px; display:inline-block;" onchange="updateCostEstimate()">
                        <option value="opp">OPP袋</option>
                        <option value="cotton">无纺布</option>
                        <option value="velvet">绒布</option>
                    </select>）
                </label>
                <label class="checkbox-item">
                    <input type="radio" name="storage_bag" value="no" checked onchange="updateCostEstimate()"> 不需要
                </label>
            </div>
        </div>

        <!-- 配件包装 -->
        <div class="form-section">
            <h2>4. 配件包装</h2>
            
            <label>配件清单（名称×数量）</label>
            <textarea name="accessories" rows="3" placeholder="例：充电线×1、说明书×1、保修卡×1"></textarea>
            
            <label>配件独立包装方式</label>
            <div class="checkbox-group">
                <label class="checkbox-item">
                    <input type="checkbox" name="acc_pe_bag" onchange="updateCostEstimate()"> PE袋
                </label>
                <label class="checkbox-item">
                    <input type="checkbox" name="acc_paper_box" onchange="updateCostEstimate()"> 纸卡盒
                </label>
                <label class="checkbox-item">
                    <input type="checkbox" name="acc_blister" onchange="updateCostEstimate()"> 吸塑壳
                </label>
            </div>
        </div>

        <!-- 成本参考 -->
        <div class="form-section">
            <h2>5. 包装成本参考</h2>
            
            <div class="cost-estimate">
                <div>预估单件包装成本：</div>
                <div class="cost-value" id="unit_cost">¥0.00</div>
                <div>总成本估算（按生产数量）：<span id="total_cost" style="font-weight:bold;">¥0.00</span></div>
            </div>
            
            <label>您的目标成本（单件）</label>
            <input type="number" name="target_cost" placeholder="输入您的目标价格（元）" step="0.1" min="0">
        </div>

        <!-- 其他要求 -->
        <div class="form-section">
            <h2>6. 其他要求</h2>
            <textarea name="other_requirements" rows="4" placeholder="特殊印刷工艺/环保认证/开模需求等"></textarea>
        </div>

        <button type="submit" class="submit-btn">提交包装需求</button>
    </form>

    <script>
        // 显示/隐藏其他盒型输入框
        document.querySelector('input[name="box_type"][value="other"]').addEventListener('change', function() {
            document.querySelector('input[name="box_type_other"]').classList.toggle('hidden', !this.checked);
        });

        // 成本估算逻辑
        function updateCostEstimate() {
            // 基础成本参数（单位：元）
            const COST_BASE = {
                top_bottom: 1.5,
                airplane: 0.8,
                other: 2.0,
                materials: {
                    white_card: 0.6,
                    kraft: 0.5,
                    art_paper: 0.8,
                    corrugated: 0.4,
                    special: 1.5
                },
                shrink_film: 0.3,
                pe_bag: {
                    '0.03': 0.1,
                    '0.05': 0.15,
                    '0.08': 0.2
                },
                buffer: {
                    pearl: {
                        '25kg': 0.4,
                        '30kg': 0.5,
                        '35kg': 0.6
                    },
                    epe: 0.3,
                    paper: 0.2
                },
                storage_bag: {
                    opp: 0.3,
                    cotton: 0.8,
                    velvet: 1.5
                },
                accessories: {
                    pe_bag: 0.1,
                    paper_box: 0.5,
                    blister: 0.7
                }
            };

            // 获取表单值
            const boxType = document.querySelector('input[name="box_type"]:checked').value;
            const material = document.querySelector('select[name="material"]').value;
            const quantity = parseInt(document.getElementById('quantity').value) || 1000;
            
            // 计算基础成本
            let cost = COST_BASE[boxType] || 0;
            if (material && COST_BASE.materials[material]) {
                cost += COST_BASE.materials[material];
            }

            // 添加外包装成本
            if (document.querySelector('input[name="shrink_film"]:checked').value === 'yes') {
                cost += COST_BASE.shrink_film;
            }

            // 添加内包装成本
            if (document.querySelector('input[name="pe_bag"]:checked').value === 'yes') {
                const thickness = document.querySelector('select[name="pe_thickness"]').value;
                cost += COST_BASE.pe_bag[thickness];
            }

            // 缓冲材料
            if (document.querySelector('input[name="buffer_pearl"]').checked) {
                const density = document.querySelector('select[name="pearl_density"]').value;
                cost += COST_BASE.buffer.pearl[density];
            }
            if (document.querySelector('input[name="buffer_epe"]').checked) cost += COST_BASE.buffer.epe;
            if (document.querySelector('input[name="buffer_paper"]').checked) cost += COST_BASE.buffer.paper;

            // 收纳袋
            if (document.querySelector('input[name="storage_bag"]:checked').value === 'yes') {
                const bagMaterial = document.querySelector('select[name="bag_material"]').value;
                cost += COST_BASE.storage_bag[bagMaterial];
            }

            // 配件包装
            if (document.querySelector('input[name="acc_pe_bag"]').checked) cost += COST_BASE.accessories.pe_bag;
            if (document.querySelector('input[name="acc_paper_box"]').checked) cost += COST_BASE.accessories.paper_box;
            if (document.querySelector('input[name="acc_blister"]').checked) cost += COST_BASE.accessories.blister;

            // 显示结果
            document.getElementById('unit_cost').textContent = `¥${cost.toFixed(2)}`;
            document.getElementById('total_cost').textContent = `¥${(cost * quantity).toFixed(2)}`;
        }

        // 初始化所有事件监听
        document.querySelectorAll('input, select').forEach(el => {
            el.addEventListener('change', updateCostEstimate);
        });
        document.getElementById('quantity').addEventListener('input', updateCostEstimate);

        // 表单提交
        document.getElementById('packagingForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // 获取产品型号
            const productModel = document.getElementById('product_model').value || '未填写';
            
            alert(`【${document.getElementById('product_name').value} ${productModel}】包装需求已提交！`);
            // 此处可添加实际表单提交逻辑
        });

        // 初始计算
        updateCostEstimate();
    </script>
</body>
</html>